# Comparing `tmp/yams_cli-3.3.5-py3-none-any.whl.zip` & `tmp/yams_cli-3.3.6-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,22 +1,22 @@
-Zip file size: 32643 bytes, number of entries: 20
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-06 06:09 yams_cli/__init__.py
--rw-r--r--  2.0 unx     1256 b- defN 23-Jun-06 06:09 yams_cli/connection_specs.py
--rw-r--r--  2.0 unx     4590 b- defN 23-Jun-06 06:09 yams_cli/profile.py
--rw-r--r--  2.0 unx     7246 b- defN 23-Jun-06 06:09 yams_cli/utils.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-06 06:09 yams_cli/logic/__init__.py
--rw-r--r--  2.0 unx    40535 b- defN 23-Jun-06 06:09 yams_cli/logic/args.py
--rw-r--r--  2.0 unx     1944 b- defN 23-Jun-06 06:09 yams_cli/logic/cli.py
--rw-r--r--  2.0 unx    40760 b- defN 23-Jun-06 06:09 yams_cli/logic/dispatcher.py
--rw-r--r--  2.0 unx     1326 b- defN 23-Jun-06 06:09 yams_cli/logic/injection.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-06 06:09 yams_cli/logic/core/__init__.py
--rw-r--r--  2.0 unx     8186 b- defN 23-Jun-06 06:09 yams_cli/logic/core/http_client.py
--rw-r--r--  2.0 unx    41176 b- defN 23-Jun-06 06:09 yams_cli/logic/core/manager.py
--rw-r--r--  2.0 unx     1124 b- defN 23-Jun-06 06:09 yams_cli/logic/core/models.py
--rw-r--r--  2.0 unx      828 b- defN 23-Jun-06 06:09 yams_cli/logic/exceptions/YamsException.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-06 06:09 yams_cli/logic/exceptions/__init__.py
--rw-r--r--  2.0 unx     9848 b- defN 23-Jun-06 06:11 yams_cli-3.3.5.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-06 06:11 yams_cli-3.3.5.dist-info/WHEEL
--rw-r--r--  2.0 unx       49 b- defN 23-Jun-06 06:11 yams_cli-3.3.5.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        9 b- defN 23-Jun-06 06:11 yams_cli-3.3.5.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1653 b- defN 23-Jun-06 06:11 yams_cli-3.3.5.dist-info/RECORD
-20 files, 160622 bytes uncompressed, 29933 bytes compressed:  81.4%
+Zip file size: 32728 bytes, number of entries: 20
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-08 09:39 yams_cli/__init__.py
+-rw-r--r--  2.0 unx     1256 b- defN 23-Jun-08 09:39 yams_cli/connection_specs.py
+-rw-r--r--  2.0 unx     4590 b- defN 23-Jun-08 09:39 yams_cli/profile.py
+-rw-r--r--  2.0 unx     7246 b- defN 23-Jun-08 09:39 yams_cli/utils.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-08 09:39 yams_cli/logic/__init__.py
+-rw-r--r--  2.0 unx    40535 b- defN 23-Jun-08 09:39 yams_cli/logic/args.py
+-rw-r--r--  2.0 unx     1944 b- defN 23-Jun-08 09:39 yams_cli/logic/cli.py
+-rw-r--r--  2.0 unx    40760 b- defN 23-Jun-08 09:39 yams_cli/logic/dispatcher.py
+-rw-r--r--  2.0 unx     1326 b- defN 23-Jun-08 09:39 yams_cli/logic/injection.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-08 09:39 yams_cli/logic/core/__init__.py
+-rw-r--r--  2.0 unx     8222 b- defN 23-Jun-08 09:39 yams_cli/logic/core/http_client.py
+-rw-r--r--  2.0 unx    41501 b- defN 23-Jun-08 09:39 yams_cli/logic/core/manager.py
+-rw-r--r--  2.0 unx     1124 b- defN 23-Jun-08 09:39 yams_cli/logic/core/models.py
+-rw-r--r--  2.0 unx      828 b- defN 23-Jun-08 09:39 yams_cli/logic/exceptions/YamsException.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-08 09:39 yams_cli/logic/exceptions/__init__.py
+-rw-r--r--  2.0 unx     9848 b- defN 23-Jun-08 09:41 yams_cli-3.3.6.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-08 09:41 yams_cli-3.3.6.dist-info/WHEEL
+-rw-r--r--  2.0 unx       49 b- defN 23-Jun-08 09:41 yams_cli-3.3.6.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        9 b- defN 23-Jun-08 09:41 yams_cli-3.3.6.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1653 b- defN 23-Jun-08 09:41 yams_cli-3.3.6.dist-info/RECORD
+20 files, 160983 bytes uncompressed, 30018 bytes compressed:  81.4%
```

## zipnote {}

```diff
@@ -39,23 +39,23 @@
 
 Filename: yams_cli/logic/exceptions/YamsException.py
 Comment: 
 
 Filename: yams_cli/logic/exceptions/__init__.py
 Comment: 
 
-Filename: yams_cli-3.3.5.dist-info/METADATA
+Filename: yams_cli-3.3.6.dist-info/METADATA
 Comment: 
 
-Filename: yams_cli-3.3.5.dist-info/WHEEL
+Filename: yams_cli-3.3.6.dist-info/WHEEL
 Comment: 
 
-Filename: yams_cli-3.3.5.dist-info/entry_points.txt
+Filename: yams_cli-3.3.6.dist-info/entry_points.txt
 Comment: 
 
-Filename: yams_cli-3.3.5.dist-info/top_level.txt
+Filename: yams_cli-3.3.6.dist-info/top_level.txt
 Comment: 
 
-Filename: yams_cli-3.3.5.dist-info/RECORD
+Filename: yams_cli-3.3.6.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## yams_cli/logic/core/http_client.py

```diff
@@ -48,22 +48,23 @@
         params = self.get_mgmt_auth_params(method, origin_path, payload)
 
         headers["X-YAMS-ERROR"] = "True"
         if query_params:
             params.update(query_params)
 
         if data and method in WITH_DATA_METHODS:
-            return requests.request(method=method, url=url, headers=headers, params=params,
-                                    data=data, allow_redirects=allow_redirects)
+            response = requests.request(method=method, url=url, headers=headers, params=params,
+                                        data=data, allow_redirects=allow_redirects)
         elif json_content is not None and method in WITH_DATA_METHODS:
-            return requests.request(method=method, url=url, headers=headers, params=params,
-                                    json=json_content, allow_redirects=allow_redirects)
+            response = requests.request(method=method, url=url, headers=headers, params=params,
+                                        json=json_content, allow_redirects=allow_redirects)
         else:
-            return requests.request(method=method, url=url, headers=headers, params=params,
-                                    allow_redirects=allow_redirects)
+            response = requests.request(method=method, url=url, headers=headers, params=params,
+                                        allow_redirects=allow_redirects)
+        return response
 
     @staticmethod
     def get_content(response):
         if response.content and len(response.content) > 0:
             return response.json()
         else:
             return {}
@@ -114,32 +115,37 @@
             message_object['reqId'] = result['request_uuid']
             return generate_pretty_print(message_object)
 
         if not valid_status_responses:
             valid_status_responses = [200, 201, 202, 204]
         if result["status"] not in valid_status_responses:
             if result["status"] == 409:
-                log_msg = message_from_result_or("[409] [req uuid: {}] Resource already exists".format(result["request_uuid"]))
+                log_msg = message_from_result_or(
+                    "[409] [req uuid: {}] Resource already exists".format(result["request_uuid"])
+                )
                 exception = ConflictException(log_msg)
             elif result["status"] == 400:
                 log_msg = message_from_result_or("[400] [req uuid: {}] Bad request".format(result["request_uuid"]))
                 exception = InvalidInputException(log_msg)
             elif result["status"] == 404:
                 log_msg = message_from_result_or("[404] [req uuid: {}] Entity not found".format(result["request_uuid"]))
                 exception = NotFoundException(log_msg)
             elif result["status"] == 401:
                 log_msg = message_from_result_or("[401] [req uuid: {}] Unauthorized".format(result["request_uuid"]))
                 exception = UnauthorizedException(log_msg)
             else:
                 content_msg = ""
                 if "content" in result:
                     content_msg = result['content']
-                fallback_msg = "[{}] [req uuid: {}] Url: {}. Error: {}".format(str(result["status"]), result["request_uuid"],
-                                                                          url,
-                                                                          content_msg)
+                fallback_msg = "[{}] [req uuid: {}] Url: {}. Error: {}".format(
+                    str(result["status"]),
+                    result["request_uuid"],
+                    url,
+                    content_msg
+                )
                 exception = ErrorException(message_from_result_or(fallback_msg))
             raise exception
 
     def get_mgmt_auth_params(self, origin_method, origin_path, metadata):
         """ Build the jwt signature for Management API requests.
         :param origin_method: String. To build the rqs field. Method called
         :param origin_path: String. To build the rqs field. Path we are calling in the API. (without /api/v1 prefix. No wildcards allowed)
```

## yams_cli/logic/core/manager.py

```diff
@@ -578,19 +578,24 @@
         metadata = {}
         if object_name is not None:
             metadata["oid"] = object_name
 
         if expiration is not None:
             metadata["x-object-expiration"] = int(expiration)
 
-        mime_type = mimetypes.guess_type(object_path)[0]
-        response, url = self._mgmt_request("POST", init_upload_path, payload=metadata, query_params={
-            "uploads": ''
-        },
-                                           headers={"Content-Type": mime_type})
+        # "application/octet-stream" as Content-Type, so the backend is in charge of the mime type detection
+        headers = {"Content-Type": "application/octet-stream"}
+        query_params = {"uploads": ''}
+        response, url = self._mgmt_request(
+            "POST",
+            init_upload_path,
+            payload=metadata,
+            query_params=query_params,
+            headers=headers
+        )
         result = self._http_client.get_result_from_response(response, is_object=True)
 
         self._http_client.validate_result(result, url, [200])
 
         upload_id = result["content"]["upload_id"]
         object_id = result["content"]["object_id"]
         file_size = Path(object_path).stat().st_size / (1024 * 1024)
@@ -641,15 +646,17 @@
         metadata = {}
         if object_name is not None:
             metadata["oid"] = object_name
 
         if expiration is not None:
             metadata["x-object-expiration"] = int(expiration)
 
-        response, url = self._mgmt_request("POST", path, payload=metadata, data=object_data)
+        # "application/octet-stream" as Content-Type, so the backend is in charge of the mime type detection
+        headers = {"Content-Type": "application/octet-stream"}
+        response, url = self._mgmt_request("POST", path, headers=headers, payload=metadata, data=object_data)
         result = self._http_client.get_result_from_response(response, is_object=True)
 
         self._http_client.validate_result(result, url, [201])
 
         return PutObjectResult(tenant_id=tenant_id,
                                domain_id=domain_id,
                                bucket_id=bucket_id,
```

## Comparing `yams_cli-3.3.5.dist-info/METADATA` & `yams_cli-3.3.6.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: yams-cli
-Version: 3.3.5
+Version: 3.3.6
 Summary: Yams CLI 
 Author: Team Edge
 Author-email: infrastructure-platform-edge@adevinta.com
 Classifier: Programming Language :: Python :: 3.7
 Description-Content-Type: text/markdown
 Requires-Dist: requests (==2.31.0)
 Requires-Dist: configparser (==5.3.0)
```

## Comparing `yams_cli-3.3.5.dist-info/RECORD` & `yams_cli-3.3.6.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -4,17 +4,17 @@
 yams_cli/utils.py,sha256=9HnYlYJYQZumOIkj1Dk8X2TpkZysbXxaloGZY7Jz0X8,7246
 yams_cli/logic/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 yams_cli/logic/args.py,sha256=eizbwi7A1vK_hpPZS6WCmExCiolIqmigrif0VofhjrU,40535
 yams_cli/logic/cli.py,sha256=B3VJvlW20KxJui5HIOq9VoL008ydV1GauS9fRTurTuM,1944
 yams_cli/logic/dispatcher.py,sha256=Eb6un9WlNnYatI7-U57YKWgsOO-Vd_2O-_k9N0lfqow,40760
 yams_cli/logic/injection.py,sha256=M_H2aTxLCdGaCSled8LCQxZVyFT7n2zoISIxXe4L8lw,1326
 yams_cli/logic/core/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-yams_cli/logic/core/http_client.py,sha256=e5oCluCW0RvDBRcgiiiFw08sA2gklVwdZk4juLkyqSM,8186
-yams_cli/logic/core/manager.py,sha256=TkcPLbOZK0PrczYGCLslhKG8xo6_wXzYuUxDIDXY45c,41176
+yams_cli/logic/core/http_client.py,sha256=ywrHHgDncsMG8lFTM6r91ZNYvwPAlhdxRwAY3nVAO3A,8222
+yams_cli/logic/core/manager.py,sha256=ZqUMSfx4TxmznUWDK-Ovd86bJiZ6Aw90-2jId2mBm_E,41501
 yams_cli/logic/core/models.py,sha256=Ow6HjtDIZeCnSXhQCeDSe5NmPfxVRYEg4qR4eos7mQ4,1124
 yams_cli/logic/exceptions/YamsException.py,sha256=VseM49ggqCG4TzhToEGFlQndKII7oPlyN3rmaL7fqvk,828
 yams_cli/logic/exceptions/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-yams_cli-3.3.5.dist-info/METADATA,sha256=XUwflVe8AFMCjSqQ8h1-zptuUmV_QdTPAWDg_Qz_IMs,9848
-yams_cli-3.3.5.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-yams_cli-3.3.5.dist-info/entry_points.txt,sha256=DbyTPLf9AYYfczTwfiqaMQavTPyy_s68Fteo32GzHCA,49
-yams_cli-3.3.5.dist-info/top_level.txt,sha256=cmdesC2KvC8Q2oXndWeUp2cGKyqItFXMTModo3oU6oc,9
-yams_cli-3.3.5.dist-info/RECORD,,
+yams_cli-3.3.6.dist-info/METADATA,sha256=0tP-GLCdChdYbVHELQZlvPRnqpIlj_u4Fs0vc0JHusk,9848
+yams_cli-3.3.6.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+yams_cli-3.3.6.dist-info/entry_points.txt,sha256=DbyTPLf9AYYfczTwfiqaMQavTPyy_s68Fteo32GzHCA,49
+yams_cli-3.3.6.dist-info/top_level.txt,sha256=cmdesC2KvC8Q2oXndWeUp2cGKyqItFXMTModo3oU6oc,9
+yams_cli-3.3.6.dist-info/RECORD,,
```

