# Comparing `tmp/odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2-py3-none-any.whl.zip` & `tmp/odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,22 +1,23 @@
-Zip file size: 26599 bytes, number of entries: 20
--rw-r--r--  2.0 unx     3090 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/README.rst
--rw-r--r--  2.0 unx       21 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/__init__.py
--rw-r--r--  2.0 unx      517 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/__manifest__.py
--rw-r--r--  2.0 unx     3423 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/i18n/account_invoice_alternate_payer.pot
--rw-r--r--  2.0 unx      907 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/migrations/13.0.1.0.0/post-migration.py
--rw-r--r--  2.0 unx       57 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/models/__init__.py
--rw-r--r--  2.0 unx     4994 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/models/account_move.py
--rw-r--r--  2.0 unx     1181 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/models/account_payment.py
--rw-r--r--  2.0 unx      137 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      185 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx       75 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/readme/USAGE.rst
--rw-r--r--  2.0 unx     9455 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/static/description/icon.png
--rw-r--r--  2.0 unx    12524 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/static/description/index.html
--rw-r--r--  2.0 unx       35 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/tests/__init__.py
--rw-r--r--  2.0 unx     9354 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/tests/test_account_invoice.py
--rw-r--r--  2.0 unx      506 b- defN 22-Aug-31 14:21 odoo/addons/account_invoice_alternate_payer/views/account_move_views.xml
--rw-r--r--  2.0 unx     3665 b- defN 22-Aug-31 14:21 odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 22-Aug-31 14:21 odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 22-Aug-31 14:21 odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2460 b- defN 22-Aug-31 14:21 odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/RECORD
-20 files, 52683 bytes uncompressed, 22275 bytes compressed:  57.7%
+Zip file size: 28147 bytes, number of entries: 21
+-rw-r--r--  2.0 unx     3090 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/__init__.py
+-rw-r--r--  2.0 unx      517 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/__manifest__.py
+-rw-r--r--  2.0 unx     3907 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/i18n/account_invoice_alternate_payer.pot
+-rw-r--r--  2.0 unx     4334 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/i18n/es.po
+-rw-r--r--  2.0 unx      907 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/migrations/13.0.1.0.0/post-migration.py
+-rw-r--r--  2.0 unx       57 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/models/__init__.py
+-rw-r--r--  2.0 unx     5618 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/models/account_move.py
+-rw-r--r--  2.0 unx     1181 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/models/account_payment.py
+-rw-r--r--  2.0 unx      137 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      185 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx       75 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/readme/USAGE.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/static/description/icon.png
+-rw-r--r--  2.0 unx    12524 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/static/description/index.html
+-rw-r--r--  2.0 unx       35 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/tests/__init__.py
+-rw-r--r--  2.0 unx    11128 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/tests/test_account_invoice.py
+-rw-r--r--  2.0 unx      506 b- defN 23-Jun-08 02:45 odoo/addons/account_invoice_alternate_payer/views/account_move_views.xml
+-rw-r--r--  2.0 unx     3665 b- defN 23-Jun-08 02:46 odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-08 02:46 odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jun-08 02:46 odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2572 b- defN 23-Jun-08 02:46 odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/RECORD
+21 files, 60011 bytes uncompressed, 23639 bytes compressed:  60.6%
```

## zipnote {}

```diff
@@ -6,14 +6,17 @@
 
 Filename: odoo/addons/account_invoice_alternate_payer/__manifest__.py
 Comment: 
 
 Filename: odoo/addons/account_invoice_alternate_payer/i18n/account_invoice_alternate_payer.pot
 Comment: 
 
+Filename: odoo/addons/account_invoice_alternate_payer/i18n/es.po
+Comment: 
+
 Filename: odoo/addons/account_invoice_alternate_payer/migrations/13.0.1.0.0/post-migration.py
 Comment: 
 
 Filename: odoo/addons/account_invoice_alternate_payer/models/__init__.py
 Comment: 
 
 Filename: odoo/addons/account_invoice_alternate_payer/models/account_move.py
@@ -42,20 +45,20 @@
 
 Filename: odoo/addons/account_invoice_alternate_payer/tests/test_account_invoice.py
 Comment: 
 
 Filename: odoo/addons/account_invoice_alternate_payer/views/account_move_views.xml
 Comment: 
 
-Filename: odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/METADATA
+Filename: odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/WHEEL
+Filename: odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/top_level.txt
+Filename: odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/RECORD
+Filename: odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/account_invoice_alternate_payer/__manifest__.py

```diff
@@ -1,14 +1,14 @@
 # Copyright 2018 Eficent Business and IT Consulting Services, S.L.
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 
 {
     "name": "Account Invoice Alternate Payer",
     "summary": "Set a alternate payor/payee in invoices",
-    "version": "14.0.1.0.0",
+    "version": "14.0.1.0.1",
     "license": "AGPL-3",
     "category": "Accounting",
     "author": "Eficent,Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/account-invoicing",
     "depends": ["account"],
     "data": ["views/account_move_views.xml"],
 }
```

## odoo/addons/account_invoice_alternate_payer/i18n/account_invoice_alternate_payer.pot

```diff
@@ -19,21 +19,23 @@
 #: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_payment__alternate_payer_id
 #: model_terms:ir.ui.view,arch_db:account_invoice_alternate_payer.view_move_form
 msgid "Alternate Payer"
 msgstr ""
 
 #. module: account_invoice_alternate_payer
 #: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_move__display_name
+#: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_move_line__display_name
 #: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_payment__display_name
 #: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_payment_register__display_name
 msgid "Display Name"
 msgstr ""
 
 #. module: account_invoice_alternate_payer
 #: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_move__id
+#: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_move_line__id
 #: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_payment__id
 #: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_payment_register__id
 msgid "ID"
 msgstr ""
 
 #. module: account_invoice_alternate_payer
 #: model:ir.model.fields,help:account_invoice_alternate_payer.field_account_bank_statement_line__alternate_payer_id
@@ -46,15 +48,21 @@
 
 #. module: account_invoice_alternate_payer
 #: model:ir.model,name:account_invoice_alternate_payer.model_account_move
 msgid "Journal Entry"
 msgstr ""
 
 #. module: account_invoice_alternate_payer
+#: model:ir.model,name:account_invoice_alternate_payer.model_account_move_line
+msgid "Journal Item"
+msgstr ""
+
+#. module: account_invoice_alternate_payer
 #: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_move____last_update
+#: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_move_line____last_update
 #: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_payment____last_update
 #: model:ir.model.fields,field_description:account_invoice_alternate_payer.field_account_payment_register____last_update
 msgid "Last Modified on"
 msgstr ""
 
 #. module: account_invoice_alternate_payer
 #: code:addons/account_invoice_alternate_payer/models/account_move.py:0
```

## odoo/addons/account_invoice_alternate_payer/models/account_move.py

```diff
@@ -113,7 +113,20 @@
                             "digits": [69, move.currency_id.decimal_places],
                             "payment_date": fields.Date.to_string(line.date),
                         }
                     )
                 info["title"] = type_payment
                 move.invoice_outstanding_credits_debits_widget = json.dumps(info)
                 move.invoice_has_outstanding = True
+
+
+class AccountMoveLine(models.Model):
+
+    _inherit = "account.move.line"
+
+    def write(self, values):
+        # CHECK ME: this change to commercial partner when find difference between main partner
+        # https://github.com/odoo/odoo/blob/0f90852818a334d66ed8a6781f5abdc022f76ff7/addons/account/models/account_move.py#L2695 # noqa: B950
+        if "partner_id" in values and len(values.keys()) == 1:
+            lines_to_skip = self.filtered(lambda x: x.move_id.alternate_payer_id)
+            return super(AccountMoveLine, self - lines_to_skip).write(values)
+        return super(AccountMoveLine, self).write(values)
```

## odoo/addons/account_invoice_alternate_payer/tests/test_account_invoice.py

```diff
@@ -51,14 +51,37 @@
             ).mapped("partner_id"),
             self.out_invoice.partner_id,
         )
         self.assertEqual(
             self.out_invoice.bank_partner_id, self.out_invoice.company_id.partner_id
         )
 
+    def test_01_1_post_out_invoice(self):
+        with Form(self.out_invoice) as form:
+            form.alternate_payer_id = self.alternate_partner
+            self.out_invoice_posted = form.save()
+        self.out_invoice_posted.action_post()
+        self.assertEqual(
+            self.out_invoice_posted.line_ids.filtered(
+                lambda r: r.account_id.user_type_id.type in ("receivable", "payable")
+            ).mapped("partner_id"),
+            self.alternate_partner,
+        )
+        self.assertEqual(
+            self.out_invoice_posted.line_ids.filtered(
+                lambda r: r.account_id.user_type_id.type
+                not in ("receivable", "payable")
+            ).mapped("partner_id"),
+            self.out_invoice_posted.partner_id,
+        )
+        self.assertEqual(
+            self.out_invoice_posted.bank_partner_id,
+            self.out_invoice_posted.company_id.partner_id,
+        )
+
     def test_02_onchange_in_invoice(self):
         with Form(self.in_invoice) as form:
             form.alternate_payer_id = self.alternate_partner
         self.assertEqual(
             self.in_invoice.line_ids.filtered(
                 lambda r: r.account_id.user_type_id.type in ("receivable", "payable")
             ).mapped("partner_id"),
@@ -69,14 +92,34 @@
                 lambda r: r.account_id.user_type_id.type
                 not in ("receivable", "payable")
             ).mapped("partner_id"),
             self.out_invoice.partner_id,
         )
         self.assertEqual(self.in_invoice.bank_partner_id, self.alternate_partner)
 
+    def test_02_1_post_in_invoice(self):
+        with Form(self.in_invoice) as form:
+            form.alternate_payer_id = self.alternate_partner
+            self.in_invoice_posted = form.save()
+        self.in_invoice_posted.action_post()
+        self.assertEqual(
+            self.in_invoice_posted.line_ids.filtered(
+                lambda r: r.account_id.user_type_id.type in ("receivable", "payable")
+            ).mapped("partner_id"),
+            self.alternate_partner,
+        )
+        self.assertEqual(
+            self.in_invoice_posted.line_ids.filtered(
+                lambda r: r.account_id.user_type_id.type
+                not in ("receivable", "payable")
+            ).mapped("partner_id"),
+            self.out_invoice.partner_id,
+        )
+        self.assertEqual(self.in_invoice_posted.bank_partner_id, self.alternate_partner)
+
     def test_03_payment_out_invoice(self):
         with Form(self.out_invoice) as form:
             form.alternate_payer_id = self.alternate_partner
         self.out_invoice._post()
         records = self.out_invoice
         ctx = {"active_model": records._name, "active_ids": records.ids}
         payment = (
```

## Comparing `odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/METADATA` & `odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-account-invoice-alternate-payer
-Version: 14.0.1.0.1.dev2
+Version: 14.0.1.0.2.dev2
 Summary: Set a alternate payor/payee in invoices
 Home-page: https://github.com/OCA/account-invoicing
 Author: Eficent,Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/RECORD` & `odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/RECORD`

 * *Files 7% similar despite different names*

```diff
@@ -1,20 +1,21 @@
 odoo/addons/account_invoice_alternate_payer/README.rst,sha256=soKFfYOivPWBDHNYMs8sUF_5fFHOKUkVooeB1YlZPwc,3090
 odoo/addons/account_invoice_alternate_payer/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/account_invoice_alternate_payer/__manifest__.py,sha256=NuNG1UvnakhD0LOy8rMTpzpdw_pxv2Lk4fwiXMT_Ulc,517
-odoo/addons/account_invoice_alternate_payer/i18n/account_invoice_alternate_payer.pot,sha256=9HccowCj5GtoofDzeWOXa9XizO5_fM6nYVcvOSdy3KM,3423
+odoo/addons/account_invoice_alternate_payer/__manifest__.py,sha256=zQ4b2ZP7ZXX_DdL4vrCBXUcfCiYSEpLbsoaDmDH8trg,517
+odoo/addons/account_invoice_alternate_payer/i18n/account_invoice_alternate_payer.pot,sha256=IoNHuhgX0sa9kDRhP3-vN1QON7efbMkDRUgZZb9vo_8,3907
+odoo/addons/account_invoice_alternate_payer/i18n/es.po,sha256=e9aYL0Qsagr3ATQd3BqrY1xdACou2JsV9Nvt8B6Foq8,4334
 odoo/addons/account_invoice_alternate_payer/migrations/13.0.1.0.0/post-migration.py,sha256=00jxfAPUNSb41e1VybaUV0D8R7ZcqktMYEinTKsrLZo,907
 odoo/addons/account_invoice_alternate_payer/models/__init__.py,sha256=wy7oylW3yfG7EQ3ihd6XhZI3gEvBzQM1EWdmd8GkQfA,57
-odoo/addons/account_invoice_alternate_payer/models/account_move.py,sha256=XxoH0y1uMgH6o39JGcmZY7F2v0Z0E9j4_RObIhChM4o,4994
+odoo/addons/account_invoice_alternate_payer/models/account_move.py,sha256=-legz5P0xyNhYKmyFOGurvrzS5sPzohyt45ozmuDSzU,5618
 odoo/addons/account_invoice_alternate_payer/models/account_payment.py,sha256=VrJxgfhe5CQ9xN30WwhScB0mnCKJW1CYmh75_Ag6sVM,1181
 odoo/addons/account_invoice_alternate_payer/readme/CONTRIBUTORS.rst,sha256=xas2oWCnBtsmWDGN_Jcur_GeeJBZIlX5hOjeEYYOzew,137
 odoo/addons/account_invoice_alternate_payer/readme/DESCRIPTION.rst,sha256=QjveZ7GutJx2doD0Oucwhzpyd3-7ZBvQAM3LT2XwKg0,185
 odoo/addons/account_invoice_alternate_payer/readme/USAGE.rst,sha256=W6FUwx-8JjV8l6TKnPMZ6gzgp5x7aP27gGbETzgSq0k,75
 odoo/addons/account_invoice_alternate_payer/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/account_invoice_alternate_payer/static/description/index.html,sha256=PWdh-r7IZOjr5zLBRTecHRnQ_cMG7jjcKcyl53HwMzE,12524
 odoo/addons/account_invoice_alternate_payer/tests/__init__.py,sha256=Huz3_fSHn99dwESNqgjEUeLjbtbnaeg4XnC6l75su84,35
-odoo/addons/account_invoice_alternate_payer/tests/test_account_invoice.py,sha256=P8NwYHMGtk4aOgeaTocgej95s9T1whUt4owNX6sIByQ,9354
+odoo/addons/account_invoice_alternate_payer/tests/test_account_invoice.py,sha256=p2VeFV59pkeIv0BykT-hsVkZBYTrpsxfk8AfRT_ONbs,11128
 odoo/addons/account_invoice_alternate_payer/views/account_move_views.xml,sha256=929J01-Y8w14-w3LiptGhn_hSBI_MqctwyNBnsUGRoY,506
-odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/METADATA,sha256=sBzglKUEbcqv5qPDyAo35Ps8w_0-CLl_aKxrh3VMv3E,3665
-odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_account_invoice_alternate_payer-14.0.1.0.1.dev2.dist-info/RECORD,,
+odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/METADATA,sha256=2RToyJh7VtvPmN1i1FKYyyihphnbac_F28_hBHi6lZc,3665
+odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_account_invoice_alternate_payer-14.0.1.0.2.dev2.dist-info/RECORD,,
```

